# Use a Font in Shiny or Markdown

Add an empty HTML element attached to an 'HTML Dependency' containing
the css and the font files so that the font is available in the HTML
page. Multiple families are supported.

The htmlDependency is defined with function
[`gfontHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/gfontHtmlDependency.md).

## Usage

``` r
addGFontHtmlDependency(family = "Open Sans", subset = c("latin", "latin-ext"))
```

## Arguments

- family:

  family name of a 'Google Fonts', for example, "Open Sans", "Roboto",
  "Fira Code" or "Fira Sans Condensed". Complete list is available with
  the following command:

      gfonts::get_all_fonts()$family |>
        unlist() |>
        unique() |>
        sort()

- subset:

  font subset, a character vector, it defaults to only "latin" and
  "latin-ext" and can contains values such as "greek", "emoji",
  "chinese-traditional",

  Run the following code to get a complete list:

      gfonts::get_all_fonts()$subsets |> unlist() |> unique() |> sort()

## Value

an HTML object

## Details

It allows users to use fonts from 'Google Fonts' in an HTML page
generated by 'shiny' or 'R Markdown'. At the first request, the font
files will be downloaded and stored in a cache on the user's machine,
thus avoiding many useless downloads or allowing to work with these
fonts afterwards without an Internet connection, in a docker image for
example. See
[`fonts_cache_dir()`](https://davidgohel.github.io/gdtools/reference/fonts_cache_dir.md).

The server delivering the font files should not be too busy. That's why
a one second pause is added after each download to respect the server's
limits. This time can be set with the option `GFONTS_DOWNLOAD_SLEEPTIME`
which must be a number of seconds.

## See also

Other functions for font management:
[`fonts_cache_dir()`](https://davidgohel.github.io/gdtools/reference/fonts_cache_dir.md),
[`gfontHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/gfontHtmlDependency.md),
[`install_gfont_script()`](https://davidgohel.github.io/gdtools/reference/install_gfont_script.md),
[`installed_gfonts()`](https://davidgohel.github.io/gdtools/reference/installed_gfonts.md),
[`liberationmonoHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/liberationmonoHtmlDependency.md),
[`liberationsansHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/liberationsansHtmlDependency.md),
[`liberationserifHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/liberationserifHtmlDependency.md),
[`register_gfont()`](https://davidgohel.github.io/gdtools/reference/register_gfont.md),
[`register_liberationmono()`](https://davidgohel.github.io/gdtools/reference/register_liberationmono.md),
[`register_liberationsans()`](https://davidgohel.github.io/gdtools/reference/register_liberationsans.md),
[`register_liberationserif()`](https://davidgohel.github.io/gdtools/reference/register_liberationserif.md)

## Examples

``` r
if (FALSE) { # \dontrun{
if (check_gfonts()) {
  dummy_setup()
  addGFontHtmlDependency(family = "Open Sans")
}
} # }
```
