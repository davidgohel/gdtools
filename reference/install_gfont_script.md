# Shell command to install a font from 'Google Fonts'

Create a string containing a system command to execute so that the font
from 'Google Fonts' is installed on the system. Its execution may
require root permissions, in dockerfile for example.

## Usage

``` r
install_gfont_script(
  family = "Open Sans",
  subset = c("latin", "latin-ext"),
  platform = c("debian", "windows", "macos"),
  file = NULL
)
```

## Arguments

- family:

  family name of a 'Google Fonts', for example, "Open Sans", "Roboto",
  "Fira Code" or "Fira Sans Condensed". Complete list is available with
  the following command:

      gfonts::get_all_fonts()$family |>
        unlist() |>
        unique() |>
        sort()

- subset:

  font subset, a character vector, it defaults to only "latin" and
  "latin-ext" and can contains values such as "greek", "emoji",
  "chinese-traditional",

  Run the following code to get a complete list:

      gfonts::get_all_fonts()$subsets |> unlist() |> unique() |> sort()

- platform:

  "debian" and "windows" and "macos" are supported.

- file:

  script file to generate, optional. If the parameter is specified, a
  file will be generated ready for execution. If the platform is
  Windows, administration rights are required to run the script.

## Value

the 'shell' or 'PowerShell' command as a string

## Details

It allows users to use fonts from 'Google Fonts' in an HTML page
generated by 'shiny' or 'R Markdown'. At the first request, the font
files will be downloaded and stored in a cache on the user's machine,
thus avoiding many useless downloads or allowing to work with these
fonts afterwards without an Internet connection, in a docker image for
example. See
[`fonts_cache_dir()`](https://davidgohel.github.io/gdtools/reference/fonts_cache_dir.md).

The server delivering the font files should not be too busy. That's why
a one second pause is added after each download to respect the server's
limits. This time can be set with the option `GFONTS_DOWNLOAD_SLEEPTIME`
which must be a number of seconds.

## See also

Other functions for font management:
[`addGFontHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/addGFontHtmlDependency.md),
[`fonts_cache_dir()`](https://davidgohel.github.io/gdtools/reference/fonts_cache_dir.md),
[`gfontHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/gfontHtmlDependency.md),
[`installed_gfonts()`](https://davidgohel.github.io/gdtools/reference/installed_gfonts.md),
[`liberationmonoHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/liberationmonoHtmlDependency.md),
[`liberationsansHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/liberationsansHtmlDependency.md),
[`liberationserifHtmlDependency()`](https://davidgohel.github.io/gdtools/reference/liberationserifHtmlDependency.md),
[`register_gfont()`](https://davidgohel.github.io/gdtools/reference/register_gfont.md),
[`register_liberationmono()`](https://davidgohel.github.io/gdtools/reference/register_liberationmono.md),
[`register_liberationsans()`](https://davidgohel.github.io/gdtools/reference/register_liberationsans.md),
[`register_liberationserif()`](https://davidgohel.github.io/gdtools/reference/register_liberationserif.md)

## Examples

``` r
if (FALSE) { # \dontrun{
if (check_gfonts()) {
  dummy_setup()
  install_gfont_script(family = "Roboto", platform = "macos")
}
} # }
```
